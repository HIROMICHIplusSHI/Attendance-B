<% provide(:title, "拠点情報修正") %>

<div class="row">
  <div class="col-md-12">
    <h1>拠点情報修正</h1>
  </div>
</div>

<div class="row">
  <div class="col-md-10 col-md-offset-1" data-controller="form-modal">
    <%= link_to '拠点情報追加', new_office_path, class: 'btn btn-primary', data: { action: 'form-modal#open' } %>

    <table class="table table-striped table-bordered" style="margin-top: 20px;">
      <thead>
        <tr class="active">
          <th class="text-center"> </th>
          <th class="text-center"> </th>
          <th class="text-center">拠点番号</th>
          <th>拠点名</th>
          <th>勤怠種類</th>
        </tr>
      </thead>
      <tbody>
        <% @offices.each do |office| %>
          <tr>
            <td class="text-center">
              <%= link_to '編集', edit_office_path(office), class: 'btn btn-sm btn-primary', data: { action: 'form-modal#open' } %>
            </td>
            <td class="text-center">
              <%= button_to '削除', office_path(office), method: :delete, class: 'btn btn-sm btn-danger', data: { turbo_confirm: 'この拠点情報を削除してもよろしいですか？' } %>
            </td>
            <td class="text-center"><%= office.office_number %></td>
            <td><%= office.name %></td>
            <td><%= office.attendance_type %></td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <% if @offices.empty? %>
      <div class="alert alert-info text-center">
        <p>拠点情報が登録されていません。</p>
      </div>
    <% end %>

    <!-- モーダルコンテナ -->
    <div data-form-modal-target="container" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1050; background-color: rgba(0,0,0,0.3);" data-action="click->form-modal#backgroundClick">
      <div class="modal-dialog" style="position: relative; width: auto; margin: 10px auto; max-width: 600px; top: 50%; transform: translateY(-50%);">
        <div data-form-modal-target="content" class="modal-content">
        </div>
      </div>
    </div>
  </div>
</div>
