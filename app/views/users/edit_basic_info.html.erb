<% provide(:title, "基本情報編集") %>

<div class="modal-header">
  <h4 class="modal-title">基本情報編集</h4>
  <button type="button" class="close" data-action="modal#close">&times;</button>
</div>

<div class="modal-body">
  <%= form_with(model: @user, url: update_basic_info_user_path(@user), local: true, remote: true, html: { data: { confirm: "true", confirm_message: "基本情報を更新してよろしいですか？" } }) do |f| %>
    <%= render 'shared/error_messages', object: @user %>

    <%= f.label :department, class: "label-basic-info" %>
    <%= f.text_field :department, class: "form-control" %>

    <%= f.label :basic_time, "基本時間", class: "label-basic-info" %>
    <%= f.time_field :basic_time, class: "form-control" %>

    <%= f.label :work_time, "指定勤務時間", class: "label-basic-info" %>
    <%= f.time_field :work_time, class: "form-control" %>

    <%= f.label :role, "役割", class: "label-basic-info" %>
    <%= f.select :role,
        User.roles.keys.map { |k| [I18n.t("enums.user.role.#{k}"), k] },
        {},
        class: "form-control" %>

    <%= f.label :employee_number, "社員番号", class: "label-basic-info" %>
    <%= f.text_field :employee_number, class: "form-control", readonly: @user.employee_number.present? %>
    <small class="form-text text-muted">※一度設定すると変更できません</small>

    <div class="modal-footer">
      <%= f.submit "更新", class: "btn btn-primary" %>
      <button type="button" class="btn btn-default" data-action="modal#close">キャンセル</button>
    </div>
  <% end %>
</div>